join_ad: False

git_prep_projects:
  - openstack/requirements
  - openstack/nova
  - openstack/neutron
  - openstack/compute-hyperv
  - openstack/cinder
  - openstack/os-win
  - openstack/networking-hyperv

services:
  - nova:
    name: nova-compute
    description: OpenStack nova Compute Service
    binary: "{{ win_dir.python }}\\scripts\\nova-compute.exe"
    config: "{{ win_dir.etc }}\\nova.conf"
    template: nova.conf

  - cinder-volume:
    name: cinder-volume
    description: OpenStack Cinder Volume Service
    binary: "{{ win_dir.python }}\\scripts\\cinder-volume.exe"
    config: "{{ win_dir.etc }}\\cinder.conf"
    template: cinder.conf

  - cinder-backup:
    name: cinder-backup
    description: OpenStack Cinder Backup Service
    binary: "{{ win_dir.python }}\\scripts\\cinder-backup.exe"
    config: "{{ win_dir.etc }}\\cinder-backup.conf"
    template: cinder-backup.conf


cherry_picks:
  - project: openstack/neutron
    path: "{{ win_dir.build }}\\neutron"
    patches:
      - refs/changes/21/567621/13

python_packages:
  - pymysql
  - ovs

compute_driver: compute_hyperv.driver.HyperVDriver
data_bridge_ovs: br-ethernet
win2016_compute_node_ip: "{{ groups['win2016-compute'][0] }}"
volume_driver: cinder.volume.drivers.windows.iscsi.WindowsISCSIDriver

vmswitches:
  - name: "{{ data_bridge }}"
    subnet: "{{ data_network }}"
    management: False

